{"version":3,"sources":["webpack:///src/base/Search.vue","webpack:///./src/base/Search.vue?605b","webpack:///./src/base/Search.vue"],"names":["Search","showResult","_this","this","Arrows","_this2","refresh","getMore","pos","bid","_this3","_this4","trim","_this5","preInput","input","start","_this6","total","books","finishPullUp","_this7","search","_this8","base_Search","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","name","_e","_v","show","dielog","msg","src","__webpack_require__","alt","directives","rawName","value","expression","type","placeholder","domProps","on","$event","target","composing","keyComputed","id","disabled","length","click","keywordsSearch","_l","word","n","key","_s","ref","firstBook","linkTo","staticHost","cover","title","author","cat","_f","wordCount","hasCp","firstIsCollect","collectBook","to","searchBooks","book","tag","shortIntro","loadMsg","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/17.dbbbacf13937d9b55464.js","sourcesContent":["<template>\r\n  <div class=\"my_Search\" v-cloak>\r\n    <transition name=\"fade\">\r\n      <Loading v-if=\"isLoading\"/>\r\n    </transition>\r\n    <Tips :show=\"dielog\" :msg=\"msg\"/>\r\n    <section class=\"search-header\">\r\n      <Arrows class=\"arrow\"/>\r\n      <div class=\"input-box\">\r\n        <img class=\"search_pic\" :src=\"require('../assets/image/book_search_icon.png')\" alt=\"\">\r\n        <input type=\"search\" placeholder=\"搜索作者、书籍、圈子、关键词\" @input=\"keyComputed\" v-model=\"input\">\r\n      </div>\r\n      <button id=\"search-btn\" :disabled=\"input.length <= 0\" @click=\"search\">搜索\r\n      </button>\r\n    </section>\r\n    <section v-show=\"showHotkey\" class=\"search_content\">\r\n      <h6>热门搜索</h6>\r\n      <ul class=\"farm\" @click=\"keywordsSearch\">\r\n        <li>永夜君王</li>\r\n        <li>修真聊天群</li>\r\n        <li>圣墟</li>\r\n        <li>帝霸</li>\r\n        <li>龙符</li>\r\n        <li>踏天无痕</li>\r\n        <li>最强狂兵</li>\r\n        <!--<li>逍遥小书生</li>-->\r\n      </ul>\r\n    </section>\r\n    <section v-show=\"showComputed\" class=\"search_computed\">\r\n      <ul @click=\"keywordsSearch\">\r\n        <li v-for=\"(word,n) in keywords\" :key=\"n\">{{word}}</li>\r\n      </ul>\r\n    </section>\r\n    <section v-show=\"showResult\" class=\"search_result\" ref=\"wrapper\">\r\n      <div>\r\n        <div>\r\n          <div  v-if=\"('_id' in firstBook)\" class=\"first-result\">\r\n            <div class=\"zp_main\" @click=\"linkTo(firstBook['_id'])\">\r\n              <div class=\"zp_pic\">\r\n                <img v-lazy=\"staticHost + firstBook.cover\">\r\n              </div>\r\n              <div class=\"zp_rb\">\r\n                <i class=\"zp_name\">{{firstBook.title}}</i>\r\n                <p>{{firstBook.author}}</p>\r\n                <ul class=\"zp_list\">\r\n                  <li>{{firstBook.cat}}<span>|</span></li>\r\n                  <li>{{firstBook.wordCount | countWan}}<span>|</span></li>\r\n                  <li>{{firstBook.hasCp ? '已完结' : '连载中'}}</li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n            <div class=\"zp_bottom\">\r\n              <button class=\"left_btn\" :disabled=\"firstIsCollect\" @click=\"collectBook(firstBook['_id'])\">\r\n                {{ firstIsCollect ? '已加入' : '加入书架'}}\r\n              </button>\r\n              <router-link :to=\"'/read/' + firstBook['_id']\">\r\n                <button class=\"right_btn\" >立即阅读</button>\r\n              </router-link>\r\n              <router-view/>\r\n            </div>\r\n          </div >\r\n          <div class=\"listBox\">\r\n            <h3 class=\"zp_title\">相关结果</h3>\r\n            <ul class=\"book-list\">\r\n              <li v-if=\"searchBooks.length === 0\">\r\n                没有更多..\r\n              </li>\r\n              <router-link tag=\"li\" :to=\"`/details/${book['_id']}`\" v-else v-for=\"(book,n) in searchBooks\" class=\"zp_content\" :key=\"n\">\r\n                <div class=\"pic-box\">\r\n                  <img v-lazy=\"staticHost + book.cover\">\r\n                </div>\r\n                <div class=\"zp_lump\">\r\n                  <h5 class=\"zp_caption\">{{book.title}}</h5>\r\n                  <p>{{book.shortIntro}}</p>\r\n                  <i>{{book.author}}</i>\r\n                  <ul class=\"sort\">\r\n                    <li>{{book.hasCp ? '完结' : '连载'}}</li>\r\n                    <li>{{book.cat}}</li>\r\n                    <li>{{book.wordCount | countWan}}</li>\r\n                  </ul>\r\n                </div>\r\n              </router-link>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n        <div class=\"pullup-wrapper\">{{loadMsg}}</div>\r\n      </div>\r\n    </section>\r\n  </div>\r\n</template>\r\n<script>\r\n  import Arrows from '../base/Arrows'\r\n  import BScroll from 'better-scroll'\r\n  import {getSearch, getKeyword, search, isCollect, collectBook} from '../api'\r\n\r\n  export default {\r\n    name: 'search',\r\n    computed: {\r\n      showComputed() {\r\n        return this.keywords.length > 0  && this.input.length > 0\r\n      },\r\n      showHotkey() {\r\n        return !this.showResult\r\n      },\r\n      showResult() {\r\n        return (this.searchBooks.length > 0 || ('_id' in this.firstBook)) && this.input.length > 0\r\n      },\r\n    },\r\n    data() {\r\n      return {\r\n        staticHost: 'http://statics.zhuishushenqi.com',\r\n        searchBooks: [],\r\n        firstIsCollect: false,\r\n        input: '',\r\n        keywords: [],\r\n        isLoading: false,\r\n        firstBook: {},\r\n        start: 0,\r\n        total: 0,\r\n        loadMsg: '加载更多',\r\n        pos: {x: 0, y: 0},\r\n        preInput: '',\r\n        dielog:false,\r\n        msg: null,\r\n      }\r\n    },\r\n    async created() {\r\n      // let {books = []} = await getSearch();\r\n      // this.books = books || [];\r\n      // console.log(this.books);\r\n    },\r\n    components: {Arrows},\r\n    mounted() {\r\n      this.$nextTick(() => {\r\n        if (!this.scroll) {\r\n          this.scroll = new BScroll(this.$refs.wrapper, {\r\n            pullUpLoad: {\r\n              threshold: 50\r\n            },\r\n            click: true,\r\n\r\n          })\r\n          this.scroll.on('pullingUp', () => {\r\n            this.getMore()\r\n          })\r\n          this.scroll.on('scroll', (pos) => {\r\n            this.pos = pos\r\n          })\r\n        } else {\r\n          this.scroll.refresh()\r\n        }\r\n      })\r\n    },\r\n    methods: {\r\n      linkTo(bid){\r\n        this.$router.push('/details/' + bid)\r\n      },\r\n      collectBook(bid) {\r\n        collectBook(bid).then(res => {\r\n          this.firstIsCollect = true;\r\n          this.dielog = true;\r\n          this.msg = '加入成功'\r\n          setTimeout(() => {\r\n            this.dielog = false;\r\n          }, 1000);\r\n        })\r\n      },\r\n      async keyComputed(e) {\r\n        let val = e.target.value.trim()\r\n        if (val) {\r\n          await getKeyword(val).then(res => {\r\n            this.keywords = res['keywords'] || []\r\n          }).catch(e => {\r\n            this.keywords = []\r\n          })\r\n        } else {\r\n          this.keywords = []\r\n        }\r\n      },\r\n      async search() {\r\n        if(this.input === this.preInput) return\r\n        this.keywords = []\r\n        this.start = 0\r\n        let result = await search({\r\n          query: this.input,\r\n          start: this.start,\r\n          limit: 10\r\n        })\r\n        this.total = result.total || 0\r\n        this.start = result.books.length || 0\r\n        this.preInput = this.input\r\n        if(this.scroll){\r\n          this.scroll.scrollTo(0,0,200)\r\n        }\r\n        this.firstBook = result.books.shift() || {}\r\n        this.searchBooks = result.books || []\r\n        this.$nextTick(() => {\r\n          this.scroll.refresh()\r\n        })\r\n\r\n      },\r\n      async getMore() {\r\n        if (this.start > this.total) {\r\n          return this.loadMsg = '没有更多了'\r\n        }\r\n        this.loadMsg = '加载中...'\r\n        this.keywords = [];\r\n        let result = await search({\r\n          query: this.input,\r\n          start: this.start,\r\n          limit: 10\r\n        })\r\n        this.start += 10\r\n        this.searchBooks.push(...result.books)\r\n        this.scroll.finishPullUp()\r\n        this.$nextTick(()=>{\r\n          this.scroll.refresh()\r\n        })\r\n      },\r\n      keywordsSearch(e) {\r\n        if (e.target.tagName.toUpperCase() === 'LI') {\r\n          this.input = e.target.innerText.trim()\r\n          this.$nextTick(() => {\r\n            this.search()\r\n          })\r\n        }\r\n      }\r\n    },\r\n    watch: {\r\n      firstBook: {\r\n        async handler(n) {\r\n          this.firstIsCollect = (await isCollect(n['_id']))['includes']\r\n        },\r\n        immediate: true\r\n      }\r\n    }\r\n  }\r\n</script>\r\n<style scoped lang=\"stylus\">\r\n  @import \"../assets/css/public.styl\";\r\n  .pullup-wrapper {\r\n    line-height: px2rem(100)\r\n    text-align: center\r\n  }\r\n  .pulldown-wrapper {\r\n    position: absolute\r\n    top: 0\r\n    width 100%\r\n    line-height: px2rem(100)\r\n    text-align: center\r\n  }\r\n  .my_Search {\r\n    width: 100%\r\n    .search-header {\r\n      display: flex\r\n      position: fixed\r\n      z-index 10\r\n      left: 0\r\n      top: 0\r\n      align-items center\r\n      justify-content space-between\r\n      height px2rem(100)\r\n      width: 100%\r\n      overflow: hidden\r\n      background: #fff;\r\n\r\n      .arrow {\r\n        width px2rem(88)\r\n        text-align: center\r\n        height px2rem(46)\r\n      }\r\n      .input-box {\r\n        position: relative\r\n        flex 1\r\n        padding: px2rem(15) px2rem(70)\r\n        background: #f3f7f8\r\n        border: px2rem(1) solid #f3f7f8\r\n        input {\r\n          border: none\r\n          background: transparent;\r\n          color: #333\r\n          font-size: px2rem(26)\r\n          line-height px2rem(34)\r\n          width 100%\r\n        }\r\n      }\r\n      .search_pic {\r\n        position: absolute\r\n        width px2rem(36)\r\n        height px2rem(36)\r\n        top: px2rem(15)\r\n        left: px2rem(17)\r\n      }\r\n      #search-btn {\r\n        border: none\r\n        background: none\r\n        font-size: px2rem(28)\r\n        color: #ba3632\r\n        margin: px2rem(12) px2rem(24)\r\n        &:disabled {\r\n          color #bbb\r\n        }\r\n      }\r\n    }\r\n    .search_content {\r\n      background: #fff\r\n      margin-top: px2rem(100)\r\n      padding-top: px2rem(10)\r\n      width: 100%\r\n      h6 {\r\n        font-size: px2rem(26)\r\n        margin-left: px2rem(24)\r\n        color: #838383\r\n      }\r\n      .farm {\r\n        box-sizing border-box\r\n        display: flex\r\n        padding: px2rem(24) px2rem(24) px2rem(10)\r\n        flex-wrap wrap\r\n        li {\r\n          font-size: px2rem(26)\r\n          padding: px2rem(12) px2rem(20)\r\n          border: px2rem(1) solid #ededed\r\n          border-radius: px2rem(5)\r\n          margin 0 px2rem(20) px2rem(20) 0\r\n          color: #666\r\n        }\r\n\r\n      }\r\n    }\r\n    .search_computed {\r\n      position absolute\r\n      z-index 9\r\n      overflow hidden\r\n      overflow-y auto\r\n      background: white\r\n      left: 0\r\n      bottom 0\r\n      top: px2rem(100)\r\n      width 100%\r\n      ul {\r\n\r\n        padding-left: px2rem(24)\r\n        li {\r\n          height px2rem(100)\r\n          line-height px2rem(100)\r\n          font-size px2rem(30)\r\n          border-bottom: px2rem(1) solid #f1f1f1\r\n        }\r\n      }\r\n    }\r\n    .search_result {\r\n      position absolute\r\n      overflow hidden\r\n      background: white\r\n      width 100%\r\n      top: px2rem(100)\r\n      left: 0\r\n      bottom 0\r\n      z-index 5\r\n      .first-result {\r\n        width 16rem\r\n        margin: 0 auto\r\n        box-sizing border-box\r\n        background: #fff\r\n        padding: 0 px2rem(24) px2rem(24)\r\n        .zp_main {\r\n          position: relative\r\n          display: flex\r\n          width: 100%\r\n          padding: px2rem(35) 0\r\n          .zp_pic {\r\n            width px2rem(150)\r\n            height: px2rem(200)\r\n            margin-right: px2rem(30)\r\n            border-radius: px2rem(5)\r\n            overflow: hidden\r\n            box-shadow 0 0 px2rem(12) rgba(0, 0, 100, .2)\r\n            img {\r\n              display block\r\n              width 100%\r\n              height 100%\r\n            }\r\n          }\r\n          .zp_rb {\r\n            flex 1\r\n            width: 100%\r\n            height: px2rem(200)\r\n            .zp_name {\r\n              font-style: normal\r\n              font-size: px2rem(30)\r\n              font-weight 700\r\n              color: $mainColor\r\n            }\r\n            p {\r\n              font-size: px2rem(26)\r\n              color: #858786\r\n              margin-top: px2rem(15)\r\n              height px2rem(110)\r\n              word-break: break-all\r\n            }\r\n            .zp_list {\r\n              width: 100%\r\n              li {\r\n                display inline-block\r\n                font-size: px2rem(24)\r\n                color: #b8bab9\r\n                margin-right: px2rem(4)\r\n                span {\r\n                  margin: px2rem(0) px2rem(11)\r\n                }\r\n\r\n              }\r\n            }\r\n\r\n          }\r\n        }\r\n        .zp_bottom {\r\n          display: flex\r\n          justify-content space-between\r\n          .left_btn {\r\n            background: #fff\r\n            color $mainColor\r\n            border: px2rem(1) solid $mainColor\r\n            font-size: px2rem(28)\r\n            padding: px2rem(21) 0\r\n            width px2rem(320)\r\n            &:disabled {\r\n              border-color #ccc\r\n              color #ccc\r\n            }\r\n          }\r\n          .right_btn {\r\n            color: #fff\r\n            background: $mainColor\r\n            border: px2rem(1) solid $mainColor\r\n            font-size: px2rem(28)\r\n            padding: px2rem(21) 0\r\n            width px2rem(320)\r\n          }\r\n        }\r\n      }\r\n      .listBox {\r\n        width 16rem\r\n        margin 0 auto\r\n        box-sizing border-box\r\n        background: #fff\r\n        margin-top: px2rem(20);\r\n        padding: 0 px2rem(24)\r\n        .zp_title {\r\n          height: px2rem(50)\r\n          font-size: px2rem(30)\r\n          color #555\r\n        }\r\n\r\n        .zp_content {\r\n          display: flex\r\n          padding-top: px2rem(20)\r\n          .pic-box {\r\n            width px2rem(150)\r\n            height px2rem(200)\r\n            border-radius: px2rem(5)\r\n            margin-right: px2rem(30)\r\n            box-shadow 0 0 px2rem(12) rgba(0, 0, 100, .2)\r\n            img {\r\n              display: block\r\n              width 100%\r\n              height 100%\r\n            }\r\n          }\r\n          .zp_lump {\r\n            flex 1\r\n            border-bottom: px2rem(1) solid #ebebeb\r\n            .zp_caption {\r\n              font-weight: 500\r\n              font-size: px2rem(30)\r\n              color: #333\r\n            }\r\n            p {\r\n              font-size: px2rem(26)\r\n              line-height: px2rem(42)\r\n              display -webkit-box\r\n              -webkit-box-orient vertical\r\n              -webkit-line-clamp 2\r\n              overflow: hidden\r\n              color: #858786\r\n              margin: px2rem(10) 0 px2rem(30)\r\n              height px2rem(80)\r\n              word-break: break-all\r\n            }\r\n            i {\r\n              display: inline-block\r\n              font-style: normal\r\n              font-weight bold\r\n              font-size: px2rem(24)\r\n              color: #666\r\n              mix-width px2rem(180)\r\n              text-overflow ellipsis\r\n              overflow: hidden\r\n            }\r\n            .sort {\r\n              float: right\r\n              overflow hidden\r\n              font-size 0\r\n              li {\r\n                display: inline-block\r\n                font-size: px2rem(20)\r\n                border-radius: px2rem(2)\r\n                margin-right: px2rem(12)\r\n                margin-bottom: px2rem(30)\r\n                padding: px2rem(3) px2rem(8)\r\n              }\r\n              li:nth-child(1) {\r\n                color: #e08348\r\n                border: px2rem(1) solid #e08348\r\n              }\r\n              li:nth-child(2) {\r\n                color: #b64855\r\n                border: px2rem(1) solid #b64855\r\n              }\r\n              li:nth-child(3) {\r\n                color: #cecece\r\n                border: px2rem(1) solid #cecece\r\n                margin-right 0\r\n              }\r\n            }\r\n\r\n          }\r\n        }\r\n\r\n      }\r\n    }\r\n\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/Search.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"my_Search\"},[_c('transition',{attrs:{\"name\":\"fade\"}},[(_vm.isLoading)?_c('Loading'):_vm._e()],1),_vm._v(\" \"),_c('Tips',{attrs:{\"show\":_vm.dielog,\"msg\":_vm.msg}}),_vm._v(\" \"),_c('section',{staticClass:\"search-header\"},[_c('Arrows',{staticClass:\"arrow\"}),_vm._v(\" \"),_c('div',{staticClass:\"input-box\"},[_c('img',{staticClass:\"search_pic\",attrs:{\"src\":require('../assets/image/book_search_icon.png'),\"alt\":\"\"}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.input),expression:\"input\"}],attrs:{\"type\":\"search\",\"placeholder\":\"搜索作者、书籍、圈子、关键词\"},domProps:{\"value\":(_vm.input)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.input=$event.target.value},_vm.keyComputed]}})]),_vm._v(\" \"),_c('button',{attrs:{\"id\":\"search-btn\",\"disabled\":_vm.input.length <= 0},on:{\"click\":_vm.search}},[_vm._v(\"搜索\\n    \")])],1),_vm._v(\" \"),_c('section',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showHotkey),expression:\"showHotkey\"}],staticClass:\"search_content\"},[_c('h6',[_vm._v(\"热门搜索\")]),_vm._v(\" \"),_c('ul',{staticClass:\"farm\",on:{\"click\":_vm.keywordsSearch}},[_c('li',[_vm._v(\"永夜君王\")]),_vm._v(\" \"),_c('li',[_vm._v(\"修真聊天群\")]),_vm._v(\" \"),_c('li',[_vm._v(\"圣墟\")]),_vm._v(\" \"),_c('li',[_vm._v(\"帝霸\")]),_vm._v(\" \"),_c('li',[_vm._v(\"龙符\")]),_vm._v(\" \"),_c('li',[_vm._v(\"踏天无痕\")]),_vm._v(\" \"),_c('li',[_vm._v(\"最强狂兵\")])])]),_vm._v(\" \"),_c('section',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showComputed),expression:\"showComputed\"}],staticClass:\"search_computed\"},[_c('ul',{on:{\"click\":_vm.keywordsSearch}},_vm._l((_vm.keywords),function(word,n){return _c('li',{key:n},[_vm._v(_vm._s(word))])}))]),_vm._v(\" \"),_c('section',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showResult),expression:\"showResult\"}],ref:\"wrapper\",staticClass:\"search_result\"},[_c('div',[_c('div',[(('_id' in _vm.firstBook))?_c('div',{staticClass:\"first-result\"},[_c('div',{staticClass:\"zp_main\",on:{\"click\":function($event){_vm.linkTo(_vm.firstBook['_id'])}}},[_c('div',{staticClass:\"zp_pic\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(_vm.staticHost + _vm.firstBook.cover),expression:\"staticHost + firstBook.cover\"}]})]),_vm._v(\" \"),_c('div',{staticClass:\"zp_rb\"},[_c('i',{staticClass:\"zp_name\"},[_vm._v(_vm._s(_vm.firstBook.title))]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(_vm.firstBook.author))]),_vm._v(\" \"),_c('ul',{staticClass:\"zp_list\"},[_c('li',[_vm._v(_vm._s(_vm.firstBook.cat)),_c('span',[_vm._v(\"|\")])]),_vm._v(\" \"),_c('li',[_vm._v(_vm._s(_vm._f(\"countWan\")(_vm.firstBook.wordCount))),_c('span',[_vm._v(\"|\")])]),_vm._v(\" \"),_c('li',[_vm._v(_vm._s(_vm.firstBook.hasCp ? '已完结' : '连载中'))])])])]),_vm._v(\" \"),_c('div',{staticClass:\"zp_bottom\"},[_c('button',{staticClass:\"left_btn\",attrs:{\"disabled\":_vm.firstIsCollect},on:{\"click\":function($event){_vm.collectBook(_vm.firstBook['_id'])}}},[_vm._v(\"\\n              \"+_vm._s(_vm.firstIsCollect ? '已加入' : '加入书架')+\"\\n            \")]),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":'/read/' + _vm.firstBook['_id']}},[_c('button',{staticClass:\"right_btn\"},[_vm._v(\"立即阅读\")])]),_vm._v(\" \"),_c('router-view')],1)]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"listBox\"},[_c('h3',{staticClass:\"zp_title\"},[_vm._v(\"相关结果\")]),_vm._v(\" \"),_c('ul',{staticClass:\"book-list\"},[(_vm.searchBooks.length === 0)?_c('li',[_vm._v(\"\\n              没有更多..\\n            \")]):_vm._l((_vm.searchBooks),function(book,n){return _c('router-link',{key:n,staticClass:\"zp_content\",attrs:{\"tag\":\"li\",\"to\":(\"/details/\" + (book['_id']))}},[_c('div',{staticClass:\"pic-box\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(_vm.staticHost + book.cover),expression:\"staticHost + book.cover\"}]})]),_vm._v(\" \"),_c('div',{staticClass:\"zp_lump\"},[_c('h5',{staticClass:\"zp_caption\"},[_vm._v(_vm._s(book.title))]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(book.shortIntro))]),_vm._v(\" \"),_c('i',[_vm._v(_vm._s(book.author))]),_vm._v(\" \"),_c('ul',{staticClass:\"sort\"},[_c('li',[_vm._v(_vm._s(book.hasCp ? '完结' : '连载'))]),_vm._v(\" \"),_c('li',[_vm._v(_vm._s(book.cat))]),_vm._v(\" \"),_c('li',[_vm._v(_vm._s(_vm._f(\"countWan\")(book.wordCount)))])])])])})],2)])]),_vm._v(\" \"),_c('div',{staticClass:\"pullup-wrapper\"},[_vm._v(_vm._s(_vm.loadMsg))])])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2e184dbe\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/Search.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2e184dbe\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Search.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Search.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Search.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2e184dbe\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Search.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2e184dbe\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/Search.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}