webpackJsonp([9],{"17iO":function(t,s){},"1E2f":function(t,s,a){t.exports=a.p+"static/img/loading_1.53c1ff2.gif"},jUtF:function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=a("Gu7T"),r=a.n(e),i=a("Xxa5"),n=a.n(i),o=a("exGp"),l=a.n(o),c=a("jovr"),u=a("gyMJ"),p=a("GQaK"),_={components:{Arrows:c.a},computed:{loadingS:function(){return this.books.length>0&&this.flg},title:function(){return this.$route.params.major||this.preTitle}},data:function(){return{books:[],isLoading:!0,start:0,total:0,flg:!0,loadMsg:"加载更多",preTitle:this.$route.params.major}},created:function(){var t=this;return l()(n.a.mark(function s(){return n.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:t.load();case 1:case"end":return s.stop()}},s,t)}))()},watch:{title:function(t,s){this.start=0,t!==this.preTitle&&(this.preTitle=t,this.load())}},mounted:function(){var t=this;this.$nextTick(function(){t.scroll?t.scroll.refresh():(t.scroll=new p.a(t.$refs.wrapper,{pullUpLoad:{threshold:50},click:!0}),t.scroll.on("pullingUp",function(){t.getMore()}),t.scroll.on("scroll",function(s){t.pos=s}))})},methods:{load:function(){var t=this;return l()(n.a.mark(function s(){var a,e,r,i;return n.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t.isLoading=!0,a=t.$route.params.major,s.next=4,Object(u.n)({major:a});case 4:e=s.sent,r=e.books,i=e.total,t.books=r,t.total=i,t.$nextTick(function(){t.isLoading=!1,t.scroll.refresh(),t.scroll.scrollTo(0,0,200)});case 10:case"end":return s.stop()}},s,t)}))()},getMore:function(){var t=this;return l()(n.a.mark(function s(){var a,e;return n.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!(t.start>t.total)){s.next=2;break}return s.abrupt("return",t.loadMsg="没有更多了");case 2:return t.loadMsg="",t.keywords=[],s.next=6,Object(u.n)({major:t.title,start:t.start,limit:10});case 6:e=s.sent,t.start+=10,(a=t.books).push.apply(a,r()(e.books)),t.scroll.finishPullUp(),t.$nextTick(function(){t.scroll.refresh(),t.loadMsg="加载更多"});case 11:case"end":return s.stop()}},s,t)}))()}}},f={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("section",{staticClass:"store_theme"},[e("transition",{attrs:{name:"fade"}},[t.isLoading?e("Loading"):t._e()],1),t._v(" "),e("header",{staticClass:"class_nav"},[e("Arrows",{staticClass:"class_arrows"}),t._v(" "),e("span",{staticClass:"class_title"},[t._v(t._s(t.title))])],1),t._v(" "),e("div",{ref:"wrapper",staticClass:"container"},[e("ul",{staticClass:"class_ul"},[t._l(t.books,function(s){return e("router-link",{staticClass:"compile_list",attrs:{tag:"li",to:"/details/"+s._id}},[e("section",{staticClass:"compile_list_left"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:"http://statics.zhuishushenqi.com"+s.cover,expression:"'http://statics.zhuishushenqi.com'+book.cover"}],attrs:{alt:""}})]),t._v(" "),e("section",{staticClass:"compile_list_right"},[e("h3",[t._v(t._s(s.title))]),t._v(" "),e("div",{staticClass:"list_right_synopsis"},[t._v(t._s(s.shortIntro))]),t._v(" "),e("span",{staticClass:"author"},[t._v(t._s(s.author))]),t._v(" "),e("span",{staticClass:"sign1"},[e("i",[t._v(t._s(s.latelyFollower))])]),t._v(" "),e("span",{staticClass:"sign2"},[e("i",[t._v(t._s(s.minorCate))])]),t._v(" "),e("span",{staticClass:"sign3"},[e("i",[t._v(t._s(s.retentionRatio))])])])])}),t._v(" "),e("li",{staticClass:"pullup-wrapper"},[t.loadingS?e("p",[t._v(t._s(t.loadMsg))]):t._e(),t._v(" "),t.loadMsg?t._e():e("img",{attrs:{src:a("1E2f"),alt:""}})])],2)])],1)},staticRenderFns:[]};var h=a("VU/8")(_,f,!1,function(t){a("17iO")},"data-v-1ec9f467",null);s.default=h.exports}});
//# sourceMappingURL=9.1ec428741c7a9af93842.js.map